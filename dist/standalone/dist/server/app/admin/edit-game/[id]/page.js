(()=>{var e={};e.id=798,e.ids=[798],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},8395:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(7976),r(2685),r(2523);var a=r(3191),s=r(8716),l=r(7922),n=r.n(l),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["admin",{children:["edit-game",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7976)),"E:\\cursor\\Github\\game-navigation-web\\src\\app\\admin\\edit-game\\[id]\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2685)),"E:\\cursor\\Github\\game-navigation-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,2523)),"E:\\cursor\\Github\\game-navigation-web\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\cursor\\Github\\game-navigation-web\\src\\app\\admin\\edit-game\\[id]\\page.tsx"],m="/admin/edit-game/[id]/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/edit-game/[id]/page",pathname:"/admin/edit-game/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5070:(e,t,r)=>{Promise.resolve().then(r.bind(r,1110))},5047:(e,t,r)=>{"use strict";var a=r(7389);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},3137:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(326),s=r(434),l=r(6953),n=r(1038);function i(){let{language:e}=(0,l.Z)();return a.jsx("header",{className:"bg-indigo-600 shadow-sm",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-8",children:[a.jsx(s.default,{href:"/admin",className:"text-white font-bold text-xl",children:"zh"===e?"石头游戏站 - 管理后台":"Stone Games - Admin"}),(0,a.jsxs)("nav",{className:"flex space-x-4",children:[a.jsx(s.default,{href:"/admin",className:"text-indigo-100 hover:text-white px-3 py-2 rounded-md",children:"zh"===e?"游戏管理":"Games"}),a.jsx(s.default,{href:"/admin/categories",className:"text-indigo-100 hover:text-white px-3 py-2 rounded-md",children:"zh"===e?"分类管理":"Categories"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(n.Z,{}),a.jsx(s.default,{href:"/",className:"text-indigo-100 hover:text-white",children:"zh"===e?"返回网站":"Back to Site"})]})]})})})}},1110:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(326),s=r(7577),l=r(5047),n=r(434),i=r(6953),o=r(3137),d=r(7344),c=r(6257);function m({params:e}){let t=(0,l.useRouter)(),{language:r}=(0,i.Z)(),[m,u]=(0,s.useState)([]),[h,g]=(0,s.useState)(!0),[x,p]=(0,s.useState)(!1),[b,f]=(0,s.useState)(""),[y,v]=(0,s.useState)(!1),[j,w]=(0,s.useState)({titleZh:"",titleEn:"",descZh:"",descEn:"",imageUrl:"",gameUrl:"",categoryId:0,isActive:!0}),[N,E]=(0,s.useState)({}),[C,z]=(0,s.useState)(!1),P=e=>{let{name:t,value:r}=e.target;w(e=>({...e,[t]:r})),N[t]&&E(e=>{let r={...e};return delete r[t],r}),"gameUrl"===t&&f(r)},G=async e=>{let t,a;"titleZh"===e?(t="titleEn",a="en"):"titleEn"===e?(t="titleZh",a="zh"):"descZh"===e?(t="descEn",a="en"):(t="descZh",a="zh");let s=j[e];if(!s||""===s.trim()){alert("zh"===r?"请先输入需要翻译的内容":"Please enter content to translate first");return}v(!0);try{let e=await (0,d.O)(s,a);w(r=>({...r,[t]:e})),N[t]&&E(e=>{let r={...e};return delete r[t],r})}catch(e){console.error("Translation error:",e),alert("zh"===r?"翻译失败，请稍后重试或手动输入":"Translation failed, please try again later or enter manually")}finally{v(!1)}},Z=()=>{let e={};return j.titleZh.trim()||(e.titleZh="请输入中文标题"),j.titleEn.trim()||(e.titleEn="Please enter English title"),j.descZh.trim()||(e.descZh="请输入中文描述"),j.descEn.trim()||(e.descEn="Please enter English description"),j.imageUrl&&j.imageUrl.trim()&&!S(j.imageUrl)&&(e.imageUrl="zh"===r?"请输入有效的图片URL":"Please enter a valid image URL"),j.gameUrl.trim()?S(j.gameUrl)||(e.gameUrl="zh"===r?"请输入有效的游戏URL":"Please enter a valid game URL"):e.gameUrl="zh"===r?"请输入游戏链接":"Please enter game URL",j.categoryId||(e.categoryId="zh"===r?"请选择游戏分类":"Please select a category"),E(e),0===Object.keys(e).length},S=e=>{try{return new URL(e),!0}catch(e){return!1}},U=async a=>{if(a.preventDefault(),Z()){z(!0);try{let a=parseInt(e.id),s=(0,c.Bi)(a,{...j,categoryId:Number(j.categoryId)});s?(console.log("Game updated:",s),alert("zh"===r?"游戏更新成功！":"Game updated successfully!"),t.push("/admin")):alert("zh"===r?"更新失败，未找到游戏！":"Update failed, game not found!")}catch(e){console.error("Error updating game:",e),alert("zh"===r?"更新游戏失败，请重试！":"Failed to update game, please try again!")}finally{z(!1)}}};return h?a.jsx("div",{className:"text-center py-8",children:"Loading..."}):x?(0,a.jsxs)("div",{children:[a.jsx(o.Z,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"zh"===r?"游戏未找到":"Game Not Found"}),a.jsx(n.default,{href:"/admin",className:"btn-primary",children:"zh"===r?"返回游戏管理":"Back to Game Management"})]})]}):(0,a.jsxs)("div",{children:[a.jsx(o.Z,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"zh"===r?"编辑游戏":"Edit Game"}),a.jsx(n.default,{href:"/admin",className:"btn-secondary",children:"zh"===r?"返回":"Back"})]}),a.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:a.jsx("svg",{className:"h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"zh"===r?"自动翻译功能":"Auto Translation Feature"}),a.jsx("div",{className:"mt-1 text-sm text-blue-700",children:a.jsx("p",{children:"zh"===r?'只需修改其中一种语言，然后点击"翻译"按钮，系统将自动为您翻译成另一种语言。':'Just modify one language, then click the "Translate" button, and the system will automatically translate it into the other language for you.'})})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,a.jsxs)("form",{onSubmit:U,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("label",{htmlFor:"titleZh",className:"block text-sm font-medium text-gray-700",children:"中文标题"}),a.jsx("button",{type:"button",onClick:()=>G("titleZh"),disabled:y||!j.titleZh,className:"text-xs bg-blue-50 text-blue-700 hover:bg-blue-100 py-1 px-2 rounded disabled:opacity-50",children:y?"翻译中...":"翻译为英文 →"})]}),a.jsx("input",{type:"text",id:"titleZh",name:"titleZh",value:j.titleZh,onChange:P,className:`w-full rounded-md border ${N.titleZh?"border-red-500":"border-gray-300"} px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500`}),N.titleZh&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.titleZh})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("label",{htmlFor:"titleEn",className:"block text-sm font-medium text-gray-700",children:"English Title"}),a.jsx("button",{type:"button",onClick:()=>G("titleEn"),disabled:y||!j.titleEn,className:"text-xs bg-blue-50 text-blue-700 hover:bg-blue-100 py-1 px-2 rounded disabled:opacity-50",children:y?"Translating...":"← Translate to Chinese"})]}),a.jsx("input",{type:"text",id:"titleEn",name:"titleEn",value:j.titleEn,onChange:P,className:`w-full rounded-md border ${N.titleEn?"border-red-500":"border-gray-300"} px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500`}),N.titleEn&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.titleEn})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("label",{htmlFor:"descZh",className:"block text-sm font-medium text-gray-700",children:"中文描述"}),a.jsx("button",{type:"button",onClick:()=>G("descZh"),disabled:y||!j.descZh,className:"text-xs bg-blue-50 text-blue-700 hover:bg-blue-100 py-1 px-2 rounded disabled:opacity-50",children:y?"翻译中...":"翻译为英文 →"})]}),a.jsx("textarea",{id:"descZh",name:"descZh",rows:3,value:j.descZh,onChange:P,className:`w-full rounded-md border ${N.descZh?"border-red-500":"border-gray-300"} px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500`}),N.descZh&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.descZh})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("label",{htmlFor:"descEn",className:"block text-sm font-medium text-gray-700",children:"English Description"}),a.jsx("button",{type:"button",onClick:()=>G("descEn"),disabled:y||!j.descEn,className:"text-xs bg-blue-50 text-blue-700 hover:bg-blue-100 py-1 px-2 rounded disabled:opacity-50",children:y?"Translating...":"← Translate to Chinese"})]}),a.jsx("textarea",{id:"descEn",name:"descEn",rows:3,value:j.descEn,onChange:P,className:`w-full rounded-md border ${N.descEn?"border-red-500":"border-gray-300"} px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500`}),N.descEn&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.descEn})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"zh"===r?"图片链接 (可选)":"Image URL (Optional)"}),a.jsx("input",{type:"text",id:"imageUrl",name:"imageUrl",value:j.imageUrl,onChange:P,placeholder:"https://example.com/image.jpg",className:`w-full rounded-md border ${N.imageUrl?"border-red-500":"border-gray-300"} px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500`}),N.imageUrl&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.imageUrl}),j.imageUrl&&S(j.imageUrl)&&(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"zh"===r?"图片预览:":"Image Preview:"}),a.jsx("img",{src:j.imageUrl,alt:"Preview",className:"h-40 object-contain rounded-md border border-gray-200"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"gameUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"zh"===r?"游戏链接":"Game URL"}),a.jsx("input",{type:"text",id:"gameUrl",name:"gameUrl",value:j.gameUrl,onChange:P,placeholder:"https://example.com/game.html",className:`w-full rounded-md border ${N.gameUrl?"border-red-500":"border-gray-300"} px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500`}),N.gameUrl&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.gameUrl}),b&&S(b)&&(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"zh"===r?"游戏预览:":"Game Preview:"}),a.jsx("div",{className:"border border-gray-200 rounded-md overflow-hidden aspect-video",children:a.jsx("iframe",{src:b,className:"w-full h-full",title:"Game Preview"})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"categoryId",className:"block text-sm font-medium text-gray-700 mb-1",children:"zh"===r?"游戏分类":"Game Category"}),(0,a.jsxs)("select",{id:"categoryId",name:"categoryId",value:j.categoryId,onChange:P,className:`w-full rounded-md border ${N.categoryId?"border-red-500":"border-gray-300"} px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white`,children:[a.jsx("option",{value:"0",children:"zh"===r?"-- 选择分类 --":"-- Select Category --"}),m.map(e=>a.jsx("option",{value:e.id,children:"zh"===r?e.nameZh:e.nameEn},e.id))]}),N.categoryId&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.categoryId})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isActive",name:"isActive",checked:j.isActive,onChange:e=>{let{name:t,checked:r}=e.target;w(e=>({...e,[t]:r}))},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700",children:"zh"===r?"启用游戏":"Enable Game"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:C,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:C?"zh"===r?"保存中...":"Saving...":"zh"===r?"保存更改":"Save Changes"})})]})})]})]})}},6257:(e,t,r)=>{"use strict";r.d(t,{Bi:()=>l,TT:()=>n,i8:()=>o,s2:()=>s,tG:()=>i,uu:()=>c,yr:()=>d});let a=[{id:1,nameZh:"休闲游戏",nameEn:"Casual Games",order:1},{id:2,nameZh:"益智解谜",nameEn:"Puzzle Games",order:2},{id:3,nameZh:"动作游戏",nameEn:"Action Games",order:3}],s=e=>{throw Error("Cannot add game on server side")},l=(e,t)=>{throw Error("Cannot update game on server side")},n=e=>{throw Error("Cannot delete game on server side")},i=()=>a,o=e=>{throw Error("Cannot add category on server side")},d=(e,t)=>{throw Error("Cannot update category on server side")},c=e=>{throw Error("Cannot delete category on server side")}},7344:(e,t,r)=>{"use strict";async function a(e,t){if(!e||""===e.trim())return"";try{await new Promise(e=>setTimeout(e,800));let r={游戏:"Game",益智:"Puzzle",解谜:"Puzzle",休闲:"Casual",动作:"Action",冒险:"Adventure",策略:"Strategy",角色扮演:"RPG",射击:"Shooter",格斗:"Fighting",竞速:"Racing",模拟:"Simulation",体育:"Sports",音乐:"Music",卡牌:"Card",桌游:"Board Game",经典:"Classic",流行:"Popular",热门:"Popular",新游戏:"New Game",多人:"Multiplayer",单人:"Single Player",贪吃蛇:"Snake",控制:"Control",食物:"Food",撞到:"Crash into",墙:"Wall",成长:"Grow",超级马里奥:"Super Mario",横版:"Platform",过关:"Level",收集:"Collect",金币:"Coins",怪物:"Monsters",通过:"Through",滑动:"Sliding",合并:"Merge",相同:"Same",数字:"Numbers",目标:"Goal",Game:"游戏",Puzzle:"益智解谜",Casual:"休闲",Action:"动作",Adventure:"冒险",Strategy:"策略",RPG:"角色扮演",Shooter:"射击",Fighting:"格斗",Racing:"竞速",Simulation:"模拟",Sports:"体育",Music:"音乐",Card:"卡牌","Board Game":"桌游",Classic:"经典",Popular:"热门","New Game":"新游戏",Multiplayer:"多人","Single Player":"单人",Snake:"贪吃蛇",Control:"控制",Food:"食物","Crash into":"撞到",Wall:"墙",Grow:"成长","Super Mario":"超级马里奥",Platform:"横版",Level:"关卡",Collect:"收集",Coins:"金币",Monsters:"怪物",Through:"通过",Sliding:"滑动",Merge:"合并",Same:"相同",Numbers:"数字",Goal:"目标"};if("en"===t&&/[\u4e00-\u9fa5]/.test(e)){if("2048"===e)return"2048";if(e.includes("贪吃蛇"))return"Snake - Control a growing snake as it moves around the screen eating food. Be careful not to crash into walls or your own tail!";{if(e.includes("超级马里奥"))return"Super Mario - The iconic platformer where you control Mario through various levels. Jump over obstacles, collect coins, and defeat enemies.";if(e.includes("经典数字益智游戏"))return"The classic number puzzle game where you merge tiles with the same number by sliding them. Can you reach the elusive 2048 tile?";if(e.includes("控制蛇"))return"Control a growing snake as it moves around the screen eating food. Be careful not to crash into walls or your own tail!";if(e.includes("经典横版过关"))return"The iconic platformer where you control Mario through various levels. Jump over obstacles, collect coins, and defeat enemies.";let t=e;for(let e of Object.keys(r).filter(e=>/[\u4e00-\u9fa5]/.test(e)).sort((e,t)=>t.length-e.length))t=t.replace(RegExp(e,"g"),r[e]);return t}}if("zh"===t&&!/[\u4e00-\u9fa5]/.test(e)){if("2048"===e)return"2048";if(e.includes("Snake"))return"贪吃蛇 - 控制蛇吃食物成长，不要撞到墙或自己。";{if(e.includes("Super Mario"))return"超级马里奥 - 经典横版过关游戏，控制马里奥收集金币，打败怪物。";if(e.includes("classic number puzzle"))return"经典数字益智游戏，通过滑动合并相同的数字，目标是得到2048。";if(e.includes("Control a growing snake"))return"控制蛇吃食物成长，不要撞到墙或自己。";if(e.includes("iconic platformer"))return"经典横版过关游戏，控制马里奥收集金币，打败怪物。";let t=e;for(let e of Object.keys(r).filter(e=>!/[\u4e00-\u9fa5]/.test(e)).sort((e,t)=>t.length-e.length))t=t.replace(RegExp(e,"gi"),r[e]);return t}}return e}catch(t){return console.error("Translation error:",t),e}}r.d(t,{O:()=>a})},7976:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`E:\cursor\Github\game-navigation-web\src\app\admin\edit-game\[id]\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,372,839],()=>r(8395));module.exports=a})();