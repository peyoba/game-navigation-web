(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{4516:function(e,t,a){Promise.resolve().then(a.bind(a,6683))},6780:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(7437),r=a(7648),s=a(3541),i=a(2454);function l(){let{language:e}=(0,s.Z)();return(0,n.jsx)("header",{className:"bg-indigo-600 shadow-sm",children:(0,n.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,n.jsx)(r.default,{href:"/admin",className:"text-white font-bold text-xl",children:"zh"===e?"石头游戏站 - 管理后台":"Stone Games - Admin"}),(0,n.jsxs)("nav",{className:"flex space-x-4",children:[(0,n.jsx)(r.default,{href:"/admin",className:"text-indigo-100 hover:text-white px-3 py-2 rounded-md",children:"zh"===e?"游戏管理":"Games"}),(0,n.jsx)(r.default,{href:"/admin/categories",className:"text-indigo-100 hover:text-white px-3 py-2 rounded-md",children:"zh"===e?"分类管理":"Categories"})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(i.Z,{}),(0,n.jsx)(r.default,{href:"/",className:"text-indigo-100 hover:text-white",children:"zh"===e?"返回网站":"Back to Site"})]})]})})})}},6683:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var n=a(7437),r=a(2265),s=a(7648),i=a(3541),l=a(6780),o=a(5820);function c(){let{language:e}=(0,i.Z)(),[t,a]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[m,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{try{let e=(0,o.U)();a(e),d(!1)}catch(e){console.error("Error loading games:",e),d(!1)}},[]);let g=async n=>{if(confirm("zh"===e?"确定要删除这个游戏吗？此操作不可撤销。":"Are you sure you want to delete this game? This action cannot be undone.")){h(n);try{(0,o.TT)(n)?(a(t.filter(e=>e.id!==n)),alert("zh"===e?"游戏删除成功！":"Game deleted successfully!")):alert("zh"===e?"删除失败，未找到游戏！":"Delete failed, game not found!")}catch(t){console.error("Error deleting game:",t),alert("zh"===e?"删除游戏失败，请重试！":"Failed to delete game, please try again!")}finally{h(null)}}};return c?(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Z,{}),(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8 text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-lg",children:"zh"===e?"加载中...":"Loading..."})]})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Z,{}),(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"zh"===e?"游戏管理":"Game Management"}),(0,n.jsx)(s.default,{href:"/admin/add-game",className:"btn-primary",children:"zh"===e?"添加游戏":"Add Game"})]}),0===t.length?(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,n.jsx)("p",{className:"text-gray-500 mb-4",children:"zh"===e?"暂无游戏，点击添加游戏开始创建":"No games yet. Click Add Game to get started."}),(0,n.jsx)(s.default,{href:"/admin/add-game",className:"btn-primary inline-block",children:"zh"===e?"添加游戏":"Add Game"})]}):(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"zh"===e?"游戏":"Game"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"zh"===e?"分类":"Category"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"zh"===e?"状态":"Status"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"zh"===e?"操作":"Actions"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(t=>{var a,r;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"flex-shrink-0 h-14 w-14 relative",children:(0,n.jsx)("img",{src:t.imageUrl||"https://via.placeholder.com/60?text=No+Image",alt:"zh"===e?t.titleZh:t.titleEn,className:"h-14 w-14 rounded-md object-cover",onError:e=>{e.currentTarget.src="https://via.placeholder.com/60?text=Error"}})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-gray-900",children:"zh"===e?t.titleZh:t.titleEn}),(0,n.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",t.id]})]})]})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"zh"===e?null===(a=t.category)||void 0===a?void 0:a.nameZh:null===(r=t.category)||void 0===r?void 0:r.nameEn})}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.isActive?"zh"===e?"已上线":"Active":"zh"===e?"已下线":"Inactive"})}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-2",children:[(0,n.jsx)(s.default,{href:"/play/".concat(t.id),className:"text-blue-600 hover:text-blue-900 mr-2",target:"_blank",children:"zh"===e?"查看":"View"}),(0,n.jsx)(s.default,{href:"/admin/edit-game/".concat(t.id),className:"text-indigo-600 hover:text-indigo-900 mr-2",children:"zh"===e?"编辑":"Edit"}),(0,n.jsx)("button",{onClick:()=>g(t.id),className:"text-red-600 hover:text-red-900",disabled:m===t.id,children:m===t.id?"zh"===e?"删除中...":"Deleting...":"zh"===e?"删除":"Delete"})]})]},t.id)})})]})})})]})]})}},2454:function(e,t,a){"use strict";var n=a(7437),r=a(3541);t.Z=()=>{let{language:e,setLanguage:t}=(0,r.Z)();return(0,n.jsx)("button",{onClick:()=>{t("zh"===e?"en":"zh")},className:"flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 transition",children:"zh"===e?"English":"中文"})}},3541:function(e,t,a){"use strict";a.d(t,{LanguageProvider:function(){return l},Z:function(){return i},c:function(){return c}});var n=a(7437),r=a(2265);let s=(0,r.createContext)({language:"zh",setLanguage:()=>{}}),i=()=>(0,r.useContext)(s),l=e=>{let{children:t}=e,[a,i]=(0,r.useState)("zh");return(0,r.useEffect)(()=>{{let e=localStorage.getItem("language");e&&i(e)}},[]),(0,n.jsx)(s.Provider,{value:{language:a,setLanguage:e=>{i(e),localStorage.setItem("language",e)}},children:t})},o={"home.welcome":{zh:"欢迎来到Stone Games",en:"Welcome to Stone Games"},"home.subtitle":{zh:"发现并畅玩精彩网页游戏",en:"Discover and play amazing web games"},"home.play":{zh:"开始游戏",en:"Play Now"},"nav.home":{zh:"首页",en:"Home"},"nav.popular":{zh:"热门游戏",en:"Popular"},"nav.new":{zh:"新游戏",en:"New Games"},"site.title":{zh:"Stone Games",en:"Stone Games"},"games.featured":{zh:"精选游戏",en:"Featured Games"},"categories.title":{zh:"游戏分类",en:"Game Categories"},"footer.quickLinks":{zh:"快速链接",en:"Quick Links"},"footer.categories":{zh:"游戏分类",en:"Categories"},"footer.popular":{zh:"热门游戏",en:"Popular Games"},"footer.contact":{zh:"联系我们",en:"Contact Us"},"footer.email":{zh:"info@stonegames.com",en:"info@stonegames.com"},"footer.copyright":{zh:"\xa9 2023 Stone Games. 保留所有权利。",en:"\xa9 2023 Stone Games. All rights reserved."},"加载中...":{zh:"加载中...",en:"Loading..."},游戏描述:{zh:"游戏描述",en:"Game Description"},相关游戏:{zh:"相关游戏",en:"Related Games"},游戏不存在或已被删除:{zh:"游戏不存在或已被删除",en:"Game does not exist or has been deleted"},返回首页:{zh:"返回首页",en:"Back to Home"},首页:{zh:"首页",en:"Home"},管理:{zh:"管理",en:"Admin"},版权所有:{zh:"版权所有",en:"All Rights Reserved"},中文名称:{zh:"中文名称",en:"Chinese Name"},英文名称:{zh:"英文名称",en:"English Name"},排序:{zh:"排序",en:"Order"},更新分类:{zh:"更新分类",en:"Update Category"},添加分类:{zh:"添加分类",en:"Add Category"},取消:{zh:"取消",en:"Cancel"},分类列表:{zh:"分类列表",en:"Category List"},请输入中文名称:{zh:"请输入中文名称",en:"Please enter Chinese name"},请输入英文名称:{zh:"请输入英文名称",en:"Please enter English name"},操作:{zh:"操作",en:"Actions"},编辑:{zh:"编辑",en:"Edit"},删除:{zh:"删除",en:"Delete"},暂无分类数据:{zh:"暂无分类数据",en:"No categories available"}},c=e=>{let{id:t,children:a}=e,{language:r}=i();return t&&o[t]?(0,n.jsx)(n.Fragment,{children:o[t][r]||a||t}):"string"==typeof a&&o[a]&&o[a][r]?(0,n.jsx)(n.Fragment,{children:o[a][r]}):(0,n.jsx)(n.Fragment,{children:a||t})}},5820:function(e,t,a){"use strict";a.d(t,{Bi:function(){return d},TT:function(){return m},U:function(){return i},bg:function(){return o},cv:function(){return l},i8:function(){return g},s2:function(){return c},tG:function(){return h},uu:function(){return x},yr:function(){return u}});let n=[{id:1,titleZh:"2048",titleEn:"2048",descZh:"经典数字益智游戏，通过滑动合并相同的数字，目标是得到2048。",descEn:"The classic number puzzle game where you merge tiles with the same number by sliding them. Can you reach the elusive 2048 tile?",imageUrl:"https://play-lh.googleusercontent.com/g3RY-0qqhVvNj4vFqS9eZJMxOjEDmRxPGGXvqTX5nPHVqe1BGfNqpH-LZyN7pUVKKQ",gameUrl:"https://htmlgames.github.io/htmlgames/games/2048/index.html",categoryId:2,isActive:!0},{id:2,titleZh:"贪吃蛇",titleEn:"Snake",descZh:"控制蛇吃食物成长，不要撞到墙或自己。",descEn:"Control a growing snake as it moves around the screen eating food. Be careful not to crash into walls or your own tail!",imageUrl:"https://img.itch.zone/aW1nLzIyMTU1MDEucG5n/original/6vGlZe.png",gameUrl:"https://htmlgames.github.io/htmlgames/games/snake/index.html",categoryId:1,isActive:!0},{id:3,titleZh:"超级马里奥",titleEn:"Super Mario",descZh:"经典横版过关游戏，控制马里奥收集金币，打败怪物。",descEn:"The iconic platformer where you control Mario through various levels. Jump over obstacles, collect coins, and defeat enemies.",imageUrl:"https://assets.nintendo.com/image/upload/ar_16:9,b_auto:border,c_lpad/b_white/f_auto/q_auto/dpr_auto/c_scale,w_300/v1/ncom/en_US/games/switch/n/new-super-mario-bros-u-deluxe-switch/hero",gameUrl:"https://supermarioemulator.com/mario.php",categoryId:3,isActive:!0}],r=[{id:1,nameZh:"休闲游戏",nameEn:"Casual Games",order:1},{id:2,nameZh:"益智解谜",nameEn:"Puzzle Games",order:2},{id:3,nameZh:"动作游戏",nameEn:"Action Games",order:3}],s=()=>{localStorage.getItem("games")||localStorage.setItem("games",JSON.stringify(n)),localStorage.getItem("categories")||localStorage.setItem("categories",JSON.stringify(r))},i=()=>{s();let e=JSON.parse(localStorage.getItem("games")||"[]"),t=JSON.parse(localStorage.getItem("categories")||"[]");return e.map(e=>{let a=t.find(t=>t.id===e.categoryId);return{...e,category:a}})},l=()=>i().filter(e=>e.isActive),o=e=>i().find(t=>t.id===e)||null,c=e=>{s();let t=JSON.parse(localStorage.getItem("games")||"[]"),a=t.length>0?Math.max(...t.map(e=>e.id))+1:1,n={...e,id:a};return t.push(n),localStorage.setItem("games",JSON.stringify(t)),n},d=(e,t)=>{s();let a=JSON.parse(localStorage.getItem("games")||"[]"),n=a.findIndex(t=>t.id===e);if(-1===n)return null;let r={...a[n],...t};return a[n]=r,localStorage.setItem("games",JSON.stringify(a)),r},m=e=>{s();let t=JSON.parse(localStorage.getItem("games")||"[]"),a=t.filter(t=>t.id!==e);return a.length!==t.length&&(localStorage.setItem("games",JSON.stringify(a)),!0)},h=()=>(s(),JSON.parse(localStorage.getItem("categories")||"[]")),g=e=>{s();let t=JSON.parse(localStorage.getItem("categories")||"[]"),a=t.length>0?Math.max(...t.map(e=>e.id))+1:1,n={...e,id:a};return t.push(n),localStorage.setItem("categories",JSON.stringify(t)),n},u=(e,t)=>{s();let a=JSON.parse(localStorage.getItem("categories")||"[]"),n=a.findIndex(t=>t.id===e);if(-1===n)return null;let r={...a[n],...t};return a[n]=r,localStorage.setItem("categories",JSON.stringify(a)),r},x=e=>{s();let t=JSON.parse(localStorage.getItem("categories")||"[]"),a=t.filter(t=>t.id!==e);return a.length!==t.length&&(localStorage.setItem("categories",JSON.stringify(a)),!0)}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=4516)}),_N_E=e.O()}]);