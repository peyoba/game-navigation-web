(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[549],{3024:function(e,t,r){Promise.resolve().then(r.bind(r,196))},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},196:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(7437),l=r(2265),n=r(9376),a=r(7648),o=r(3541),i=r(5820),c=r(4645),m=r(4303);function d(){let e=(0,n.useParams)(),t=(0,n.useRouter)(),{language:r}=(0,o.Z)(),[d,h]=(0,l.useState)(null),[g,u]=(0,l.useState)([]),[x,p]=(0,l.useState)(!0),[f,v]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(async()=>{try{p(!0);let r=Number(e.id);if(isNaN(r)){t.push("/");return}let s=(0,i.bg)(r);if(!s){t.push("/");return}h(s);let l=(0,i.cv)().filter(e=>e.id!==r&&e.categoryId===s.categoryId).slice(0,3);u(l)}catch(e){console.error("Error fetching game:",e)}finally{p(!1)}})()},[e.id,t]);let w=()=>{v(!f)};return x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"text-center py-20",children:[(0,s.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),(0,s.jsx)("p",{className:"mt-4 text-lg",children:(0,s.jsx)(o.c,{children:"加载中..."})})]})}),(0,s.jsx)(m.Z,{})]}):d?(0,s.jsxs)(s.Fragment,{children:[!f&&(0,s.jsx)(c.Z,{}),(0,s.jsxs)("main",{className:"".concat(f?"fixed inset-0 z-50 bg-black":"container mx-auto px-4 py-8"),children:[!f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex flex-wrap items-center mb-6",children:(0,s.jsxs)(a.default,{href:"/",className:"flex items-center mr-4 mb-2 text-blue-600 hover:text-blue-800 transition-colors",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,s.jsx)(o.c,{children:"返回首页"})]})}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-2 text-gray-800",children:"zh"===r?d.titleZh:d.titleEn}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600 mb-4",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),d.category&&("zh"===r?d.category.nameZh:d.category.nameEn)]})]})]}),(0,s.jsxs)("div",{className:"relative ".concat(f?"h-full w-full":"aspect-video rounded-lg overflow-hidden shadow-lg mb-8 border border-gray-200"),children:[(0,s.jsx)("iframe",{src:d.gameUrl,className:"w-full h-full border-0",title:"zh"===r?d.titleZh:d.titleEn,allowFullScreen:!0}),(0,s.jsxs)("div",{className:"absolute bottom-4 right-4 flex space-x-2",children:[!f&&(0,s.jsx)(a.default,{href:"/",className:"bg-blue-500 bg-opacity-70 text-white p-2 rounded hover:bg-opacity-100 transition-all md:hidden","aria-label":"Back to Home",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,s.jsx)("button",{onClick:w,className:"bg-black bg-opacity-70 text-white p-2 rounded hover:bg-opacity-100 transition-all","aria-label":f?"Exit Fullscreen":"Enter Fullscreen",children:f?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})})})]}),f&&(0,s.jsx)("button",{onClick:()=>t.push("/"),className:"absolute top-4 left-4 bg-blue-500 bg-opacity-70 text-white p-2 rounded hover:bg-opacity-100 transition-all","aria-label":"Back to Home",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})]}),!f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)(o.c,{children:"游戏描述"})]}),(0,s.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"zh"===r?d.descZh:d.descEn})]}),(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("div",{className:"flex justify-center md:justify-start",children:(0,s.jsxs)("button",{onClick:w,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})}),"zh"===r?"全屏游戏":"Fullscreen Mode"]})})}),g.length>0&&(0,s.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold mb-6 text-gray-800 flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,s.jsx)(o.c,{children:"相关游戏"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(e=>(0,s.jsx)(a.default,{href:"/play/".concat(e.id),className:"block",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-all transform hover:-translate-y-1",children:[(0,s.jsx)("div",{className:"h-40 overflow-hidden",children:(0,s.jsx)("img",{src:e.imageUrl||"https://via.placeholder.com/300x200?text=Game",alt:"zh"===r?e.titleZh:e.titleEn,className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-1 text-gray-800",children:"zh"===r?e.titleZh:e.titleEn}),(0,s.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:"zh"===r?e.descZh:e.descEn})]})]})},e.id))})]})]})]}),!f&&(0,s.jsx)(m.Z,{})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"text-center py-20",children:[(0,s.jsx)("div",{className:"mb-6 text-red-500",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,s.jsx)("p",{className:"text-xl mb-6",children:(0,s.jsx)(o.c,{children:"游戏不存在或已被删除"})}),(0,s.jsxs)(a.default,{href:"/",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,s.jsx)(o.c,{children:"返回首页"})]})]})}),(0,s.jsx)(m.Z,{})]})}},5820:function(e,t,r){"use strict";r.d(t,{Bi:function(){return m},TT:function(){return d},U:function(){return a},bg:function(){return i},cv:function(){return o},i8:function(){return g},s2:function(){return c},tG:function(){return h},uu:function(){return x},yr:function(){return u}});let s=[{id:1,titleZh:"2048",titleEn:"2048",descZh:"经典数字益智游戏，通过滑动合并相同的数字，目标是得到2048。",descEn:"The classic number puzzle game where you merge tiles with the same number by sliding them. Can you reach the elusive 2048 tile?",imageUrl:"https://play-lh.googleusercontent.com/g3RY-0qqhVvNj4vFqS9eZJMxOjEDmRxPGGXvqTX5nPHVqe1BGfNqpH-LZyN7pUVKKQ",gameUrl:"https://htmlgames.github.io/htmlgames/games/2048/index.html",categoryId:2,isActive:!0},{id:2,titleZh:"贪吃蛇",titleEn:"Snake",descZh:"控制蛇吃食物成长，不要撞到墙或自己。",descEn:"Control a growing snake as it moves around the screen eating food. Be careful not to crash into walls or your own tail!",imageUrl:"https://img.itch.zone/aW1nLzIyMTU1MDEucG5n/original/6vGlZe.png",gameUrl:"https://htmlgames.github.io/htmlgames/games/snake/index.html",categoryId:1,isActive:!0},{id:3,titleZh:"超级马里奥",titleEn:"Super Mario",descZh:"经典横版过关游戏，控制马里奥收集金币，打败怪物。",descEn:"The iconic platformer where you control Mario through various levels. Jump over obstacles, collect coins, and defeat enemies.",imageUrl:"https://assets.nintendo.com/image/upload/ar_16:9,b_auto:border,c_lpad/b_white/f_auto/q_auto/dpr_auto/c_scale,w_300/v1/ncom/en_US/games/switch/n/new-super-mario-bros-u-deluxe-switch/hero",gameUrl:"https://supermarioemulator.com/mario.php",categoryId:3,isActive:!0}],l=[{id:1,nameZh:"休闲游戏",nameEn:"Casual Games",order:1},{id:2,nameZh:"益智解谜",nameEn:"Puzzle Games",order:2},{id:3,nameZh:"动作游戏",nameEn:"Action Games",order:3}],n=()=>{localStorage.getItem("games")||localStorage.setItem("games",JSON.stringify(s)),localStorage.getItem("categories")||localStorage.setItem("categories",JSON.stringify(l))},a=()=>{n();let e=JSON.parse(localStorage.getItem("games")||"[]"),t=JSON.parse(localStorage.getItem("categories")||"[]");return e.map(e=>{let r=t.find(t=>t.id===e.categoryId);return{...e,category:r}})},o=()=>a().filter(e=>e.isActive),i=e=>a().find(t=>t.id===e)||null,c=e=>{n();let t=JSON.parse(localStorage.getItem("games")||"[]"),r=t.length>0?Math.max(...t.map(e=>e.id))+1:1,s={...e,id:r};return t.push(s),localStorage.setItem("games",JSON.stringify(t)),s},m=(e,t)=>{n();let r=JSON.parse(localStorage.getItem("games")||"[]"),s=r.findIndex(t=>t.id===e);if(-1===s)return null;let l={...r[s],...t};return r[s]=l,localStorage.setItem("games",JSON.stringify(r)),l},d=e=>{n();let t=JSON.parse(localStorage.getItem("games")||"[]"),r=t.filter(t=>t.id!==e);return r.length!==t.length&&(localStorage.setItem("games",JSON.stringify(r)),!0)},h=()=>(n(),JSON.parse(localStorage.getItem("categories")||"[]")),g=e=>{n();let t=JSON.parse(localStorage.getItem("categories")||"[]"),r=t.length>0?Math.max(...t.map(e=>e.id))+1:1,s={...e,id:r};return t.push(s),localStorage.setItem("categories",JSON.stringify(t)),s},u=(e,t)=>{n();let r=JSON.parse(localStorage.getItem("categories")||"[]"),s=r.findIndex(t=>t.id===e);if(-1===s)return null;let l={...r[s],...t};return r[s]=l,localStorage.setItem("categories",JSON.stringify(r)),l},x=e=>{n();let t=JSON.parse(localStorage.getItem("categories")||"[]"),r=t.filter(t=>t.id!==e);return r.length!==t.length&&(localStorage.setItem("categories",JSON.stringify(r)),!0)}}},function(e){e.O(0,[648,880,971,117,744],function(){return e(e.s=3024)}),_N_E=e.O()}]);